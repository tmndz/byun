<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>World of Districts</title>
  <link rel="stylesheet" href="./src/style.css">
</head>

<body>
  <div id="game-container">
    <canvas id="game-canvas"></canvas>

    <!-- Login Overlay -->
    <div id="login-overlay">
      <div class="login-box">
        <h1>World of Districts</h1>
        <div class="input-group">
          <input type="text" id="username-input" placeholder="Username">
        </div>
        <div class="input-group">
          <input type="password" id="password-input" placeholder="Password">
        </div>
        <div class="button-group">
          <button id="login-btn">Login</button>
          <button id="register-btn">Register</button>
        </div>
        <p id="auth-error"></p>
      </div>
    </div>

    <div id="ui-layer" style="display: none;">

      <!-- Top Right: District Selector -->
      <!-- Top Right: Travel Button -->
      <div id="district-controls">
        <button id="open-map-btn">ğŸ—ºï¸ TRAVEL</button>
      </div>

      <!-- Map Overlay -->
      <div id="map-modal" style="display: none;">
        <div class="map-content">
          <h2>World Map</h2>
          <div class="map-grid">
            <div class="map-node" data-target="school" style="grid-area: school;">ğŸ“ Academy</div>
            <div class="map-node" data-target="arena" style="grid-area: arena;">âš”ï¸ Arena</div>
            <div class="map-node" data-target="plaza" style="grid-area: plaza;">ğŸ™ï¸ Plaza City</div>
            <div class="map-node" data-target="housing" style="grid-area: housing;">ğŸ¡ Residential</div>
            <div class="map-node" data-target="brawl_stars" style="grid-area: brawl;">â­ï¸ Brawl Stars</div>
          </div>
          <button id="close-map-btn">Cancel</button>
        </div>
      </div>

      <!-- Quiz Overlay -->
      <div id="quiz-modal" style="display: none;">
        <div class="quiz-content">
          <h2>Math Quiz ğŸ§®</h2>
          <div id="quiz-question" style="font-size: 24px; margin: 20px;">5 + 3 = ?</div>
          <input type="number" id="quiz-input" placeholder="?" />
          <div class="button-group">
            <button id="submit-quiz-btn">Submit</button>
            <button id="close-quiz-btn">Leave</button>
          </div>
          <p id="quiz-feedback"></p>
        </div>
      </div>

      <!-- Shop Overlay -->
      <div id="shop-modal" style="display: none;">
        <div class="shop-content">
          <h2>Weapon Store âš”ï¸</h2>
          <div id="shop-items">
            <!-- Items injected by JS -->
          </div>
          <br>
          <button id="close-shop-btn">Close</button>
        </div>
      </div>

      <!-- Battle Setup Overlay -->
      <div id="battle-modal" style="display: none;">
        <div class="battle-content">
          <h2>Enter Battle Arena âš”ï¸</h2>
          <div class="battle-options">
            <h3>Game Mode</h3>
            <label><input type="radio" name="mode" value="solo" checked> Solo (FFA)</label>
            <label><input type="radio" name="mode" value="team"> Team Battle</label>

            <div id="team-selection" style="display: none; margin-top: 20px;">
              <h3>Choose Team</h3>
              <label><input type="radio" name="team" value="red" checked> ğŸ”´ Red Team</label>
              <label><input type="radio" name="team" value="blue"> ğŸ”µ Blue Team</label>
            </div>
          </div>
          <div class="button-group" style="margin-top: 20px;">
            <button id="enter-battle-btn">Enter Battle</button>
            <button id="close-battle-btn">Cancel</button>
          </div>
        </div>
      </div>

      <!-- Chat Container -->
      <div id="chat-container">
        <div id="chat-messages"></div>
        <input type="text" id="chat-input" placeholder="Type a message..." maxlength="100">
      </div>

      <!-- Instructions -->
      <div id="instructions">Use WASD to move â€¢ Select District to travel</div>
    </div>
  </div>
  <script type="module" src="./src/main.js"></script>
</body>

</html>